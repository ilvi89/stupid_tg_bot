# Telegram-–±–æ—Ç –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∫–ª—É–±–∞ (DSL Architecture)

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∫–ª—É–±–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ **–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π DSL –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

## üé≠ DSL –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **Domain Specific Language (DSL)** –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤:
- üéØ **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏** - –¥–∏–∞–ª–æ–≥–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
- üé≠ **–ö–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** - —Å–ª–æ–∂–Ω—ã–µ workflow –∏–∑ –ø—Ä–æ—Å—Ç—ã—Ö –±–ª–æ–∫–æ–≤
- üìä **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîß **–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- üõ°Ô∏è **–ò–∑–æ–ª—è—Ü–∏—è –æ—à–∏–±–æ–∫** - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ–¥–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞
1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
git clone <repository_url>
cd simple_tg_bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp .env.example .env
```

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env —Ñ–∞–π–ª)
```env
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
MANAGER_PASSWORD=–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–ø–∞—Ä–æ–ª—å_–º–µ–Ω–µ–¥–∂–µ—Ä–∞

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DATABASE_PATH=english_club.db

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL=INFO
LOG_FILE=bot.log

# DSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DSL_AUTO_RELOAD=True
DSL_VALIDATION_STRICT=False
DSL_DEBUG_MODE=False

# –¢–∞–π–º–∞—É—Ç—ã (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
MANAGER_SESSION_TIMEOUT=3600
DSL_DEFAULT_TIMEOUT=1800
DSL_SESSION_CLEANUP_INTERVAL=3600
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
# –ó–∞–ø—É—Å–∫ —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python run.py

# –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
python bot.py
```

## üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥:
- **`/start`** - –ü–æ–ª–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (12 —à–∞–≥–æ–≤, 30 –º–∏–Ω)
  - –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö
  - –°–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  - –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

- **`/onboarding`** - –ü–æ–ª–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –°–ø—Ä–∞–≤–∫–∞
  - –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å —Å–∏—Å—Ç–µ–º–æ–π

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º:
- **`/profile`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º (–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π
  - –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞

#### –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
- **`/support`** - –û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É (–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
  - –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
  - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### üîß –ú–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- **`/manager`** - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ –ø–∞—Ä–æ–ª—è
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã—Ö–æ–¥

#### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å:
- **`/dashboard`** - –ü–æ–ª–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏  
  - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
  - –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–†–∞—Å—Å—ã–ª–∫–∏** - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–≠–∫—Å–ø–æ—Ä—Ç** - –í—ã–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ CSV
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### üõ†Ô∏è –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- **`/scenario_info`** - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **`/scenario_list`** - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **`/scenario_stats`** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **`/scenario_reload`** - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—Ç–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä—ã)
- **`/scenario_cancel`** - –û—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

## üé≠ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç DSL

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è:
```python
from scenarios.auto_register import user_scenario
from scenarios.registry import ScenarioCategory
from dialog_dsl import DialogBuilder, InputType
from scenarios.common.validators import CommonValidators

@user_scenario(
    id="my_scenario",
    name="–ú–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
    category=ScenarioCategory.SUPPORT,
    entry_points=["/my_command", "my_entry"]
)
def create_my_scenario():
    return (DialogBuilder("my_scenario", "–ú–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π")
        .start_with("start")
        
        .add_message(
            step_id="start",
            message="üëã –ü—Ä–∏–≤–µ—Ç! –ù–∞—á–∏–Ω–∞–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–π.",
            next_step="ask_name"
        )
        
        .add_question(
            step_id="ask_name",
            message="–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?",
            input_type=InputType.TEXT,
            validations=[CommonValidators.not_empty()],
            next_step="finish"
        )
        
        .add_final(
            step_id="finish",
            message="–°–ø–∞—Å–∏–±–æ, {ask_name}! –°—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω."
        )
        
        .set_timeout(600)  # 10 –º–∏–Ω—É—Ç
        .build())
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
–°—Ü–µ–Ω–∞—Ä–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ç–æ—á–∫–∞–º –≤—Ö–æ–¥–∞.

### –ö–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
```python
from scenarios.compositions import CompositionBuilder

composition = (CompositionBuilder("my_flow", "–ú–æ–π –ø–æ—Ç–æ–∫")
    .add_scenarios(["scenario1", "scenario2", "scenario3"])
    .add_transition("scenario1", "scenario2", "success==True")
    .add_transition("scenario2", "scenario3", "continue==True")
    .set_entry_points(["/my_flow"])
    .build())
```

## üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
–ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã:
- **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å** —Å —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
- **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å** —Ç–µ–∫—É—â–∏–π —à–∞–≥
- **–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ** –≤–µ—Å—å —Å—Ü–µ–Ω–∞—Ä–∏–π
- **–û—Ç–º–µ–Ω–∏—Ç—å** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–∏–∞–ª–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ò—Å—Ç–æ—Ä–∏—è –æ—à–∏–±–æ–∫ –≤–µ–¥–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö —Å–µ—Å—Å–∏–π

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Ç–æ—á–∫–∏ –≤—ã—Ö–æ–¥–∞
- –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫ –ø–æ —à–∞–≥–∞–º
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π

### –ö–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
```bash
/scenario_stats     # –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
/scenario_list      # –í—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏  
/scenario_info      # –¢–µ–∫—É—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    telegram_id INTEGER UNIQUE NOT NULL,
    username TEXT,
    name TEXT NOT NULL,
    age INTEGER,
    english_experience TEXT,
    data_consent BOOLEAN DEFAULT 0,
    newsletter_consent BOOLEAN DEFAULT 0,
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### –¢–∞–±–ª–∏—Ü–∞ –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π:
```sql
CREATE TABLE dialog_sessions (
    user_id INTEGER,
    chat_id INTEGER,
    chain_id TEXT,
    current_step TEXT,
    data TEXT,              -- JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–∏–∞–ª–æ–≥–∞
    state TEXT,             -- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏
    created_at REAL,
    updated_at REAL,
    retry_count INTEGER,
    error_history TEXT,     -- JSON —Å –∏—Å—Ç–æ—Ä–∏–µ–π –æ—à–∏–±–æ–∫
    PRIMARY KEY (user_id, chat_id)
);
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/menu` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
3. `/profile` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º
4. `/support` - –æ–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É

### –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/manager` –∏ –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/dashboard` –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. –î–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å—Ü–µ–Ω–∞—Ä–∏–∏
4. `/scenario_reload` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

### –£—Ç–∏–ª–∏—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```bash
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
python manage.py stats      # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
python manage.py export     # –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
python manage.py clear      # –û—á–∏—Å—Ç–∫–∞ –ë–î
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
simple_tg_bot/
‚îú‚îÄ‚îÄ bot.py                   # –û—Å–Ω–æ–≤–Ω–æ–π DSL –±–æ—Ç
‚îú‚îÄ‚îÄ run.py                   # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
‚îú‚îÄ‚îÄ bootstrap.py             # –°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ DSL
‚îú‚îÄ‚îÄ interfaces.py            # DSL –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ dialog_dsl.py           # –Ø–¥—Ä–æ DSL —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ auth_manager.py         # –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ manage.py               # –£—Ç–∏–ª–∏—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î
‚îú‚îÄ‚îÄ .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ LICENSE                 # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
‚îú‚îÄ‚îÄ scenarios/              # üì¶ –ü–∞–∫–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
‚îÇ   ‚îú‚îÄ‚îÄ registry.py         # –†–µ–µ—Å—Ç—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
‚îÇ   ‚îú‚îÄ‚îÄ loader.py           # –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑—á–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ executor.py         # –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ auto_register.py    # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ compositions.py     # –ö–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
‚îÇ   ‚îú‚îÄ‚îÄ user/               # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ registration.py # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.py      # –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ support.py      # –ü–æ–¥–¥–µ—Ä–∂–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ manager/            # –ú–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py         # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ broadcast.py    # –†–∞—Å—Å—ã–ª–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ administration.py # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ common/             # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ actions.py      # –î–µ–π—Å—Ç–≤–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ validators.py   # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îú‚îÄ‚îÄ documents/              # PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ –°–Ω–∞–û–ü —Å –ø—Ä–æ—á–µ—Ä–∫–∞–º–∏.pdf
‚îÇ   ‚îî‚îÄ‚îÄ –°–æ–≥–ª–∞—Å–∏–µ_–Ω–∞_—Ä–∞—Å—Å—ã–ª–∫—É_*.pdf
‚îú‚îÄ‚îÄ examples/               # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ english_club.db        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã:
- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤** —Å —Å–µ—Å—Å–∏—è–º–∏ –∏ —Ç–∞–π–º–∞—É—Ç–∞–º–∏
- üîí **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π** –∏–∑ —á–∞—Ç–æ–≤
- üìä **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π** –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- üö´ **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞** –ø–æ —Ç–∏–ø–∞–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- üõ°Ô∏è **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (12+ —Å–∏–º–≤–æ–ª–æ–≤)
2. –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ë–î
4. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ .env —Ñ–∞–π–ª—É

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
- –¢–æ—á–∫–∏ –≤—ã—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ß–∞—Å—Ç–æ—Ç–∞ –∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:
- `/scenario_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ DSL —Å–∏—Å—Ç–µ–º—ã
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö - –¥–µ—Ç–∞–ª—å–Ω—ã–µ CSV –æ—Ç—á–µ—Ç—ã
- –õ–æ–≥–∏ - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚ùó –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø—É—Å–∫–æ–º:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python run.py --check

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
python -c "from scenarios.auto_register import ScenarioDiscovery; ScenarioDiscovery.discover_and_register_all()"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏:
```bash
# –í –±–æ—Ç–µ
/scenario_list      # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
/scenario_stats     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
/scenario_reload    # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (–º–µ–Ω–µ–¥–∂–µ—Ä—ã)
/scenario_cancel    # –û—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
```

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

1. **"–°—Ü–µ–Ω–∞—Ä–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é: `/scenario_list`
   - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ: `/scenario_reload`

2. **"–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ DSL"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `scenarios/`
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

3. **"–°–µ—Å—Å–∏—è –∑–∞–≤–∏—Å–ª–∞"**
   - –û—Ç–º–µ–Ω–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π: `/scenario_cancel`
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: `/scenario_info`

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è:
```python
# scenarios/user/my_scenario.py

from scenarios.auto_register import user_scenario
from scenarios.registry import ScenarioCategory
from dialog_dsl import DialogBuilder, InputType
from scenarios.common.validators import CommonValidators

@user_scenario(
    id="my_user_scenario",
    name="–ú–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
    category=ScenarioCategory.SUPPORT,
    entry_points=["/my_command"]
)
def create_my_scenario():
    return (DialogBuilder("my_user_scenario", "–ú–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π")
        .start_with("start")
        .add_message("start", "–ü—Ä–∏–≤–µ—Ç!", next_step="end")
        .add_final("end", "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
        .build())
```

### –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è:
```python
# scenarios/manager/my_admin.py

from scenarios.auto_register import manager_scenario
from scenarios.registry import ScenarioCategory

@manager_scenario(
    id="my_admin_scenario",
    name="–ú–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
    category=ScenarioCategory.ADMINISTRATION,
    entry_points=["admin_action"]
)
def create_admin_scenario():
    return (DialogBuilder("my_admin_scenario", "–ê–¥–º–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π")
        .start_with("start")
        .add_message("start", "–ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏—è", next_step="end")
        .add_final("end", "–í—ã–ø–æ–ª–Ω–µ–Ω–æ!")
        .set_permissions(["manager"])
        .build())
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
–°—Ü–µ–Ω–∞—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `/scenario_list`.

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π** –≤ –ø–∞–º—è—Ç–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** –∏—Å—Ç–µ–∫—à–∏—Ö —Å–µ—Å—Å–∏–π
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã** —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- **–ò–∑–æ–ª—è—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Ä–∞–±–æ—Ç–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- **`README.md`** - —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- **`DSL_ARCHITECTURE.md`** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **`DSL_MIGRATION_GUIDE.md`** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É
- **`DSL_IMPLEMENTATION_REPORT.md`** - –æ—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä—ã:
- **`examples/dialog_examples.py`** - –ø—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **`scenarios/compositions_demo.py`** - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–π
- **`scenarios/`** - –∂–∏–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏:
1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –∏–∑—É—á–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. **–ü—Ä–∏–º–µ—Ä—ã** - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ `examples/` –∏ `scenarios/`
3. **–õ–æ–≥–∏** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `bot.log` –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
4. **–û—Ç–ª–∞–¥–∫–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã `/scenario_*`

### –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö:
–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ —É–∫–∞–∂–∏—Ç–µ:
- –í–µ—Ä—Å–∏—é Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ .env —Ñ–∞–π–ª–∞ (–±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤!)
- –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
- –®–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**DSL Telegram-–±–æ—Ç –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∫–ª—É–±–∞** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤–º–µ—Å—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ª—é–±—ã—Ö –æ—à–∏–±–æ–∫  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É –∏ —Ä–∞–∑–≤–∏—Ç–∏—é

**–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! –ó–∞–ø—É—Å–∫–∞–π—Ç–µ: `python run.py` üöÄ**

---

### üîó –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏:
- üéØ [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](DSL_ARCHITECTURE.md)
- üîÑ [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É](DSL_MIGRATION_GUIDE.md)  
- üìä [–û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](DSL_IMPLEMENTATION_REPORT.md)
- üí° [–ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤](examples/dialog_examples.py)