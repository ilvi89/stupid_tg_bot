# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ DSL –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### ‚úÖ –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ DSL
–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** –≤–º–µ—Å—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞.

### üì¶ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
–°–¢–ê–†–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:          ‚Üí    –ù–û–í–ê–Ø DSL –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:
bot.py (–º–æ–Ω–æ–ª–∏—Ç)             ‚Üí    scenarios/ (–ø–∞–∫–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
‚îú‚îÄ‚îÄ ConversationHandler      ‚Üí    ‚îú‚îÄ‚îÄ user/ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ)
‚îú‚îÄ‚îÄ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏     ‚Üí    ‚îú‚îÄ‚îÄ manager/ (–º–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–∏–µ)  
‚îú‚îÄ‚îÄ message –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏      ‚Üí    ‚îú‚îÄ‚îÄ common/ (–æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
‚îî‚îÄ‚îÄ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥        ‚Üí    ‚îî‚îÄ‚îÄ compositions.py (–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏)
                                  
user_interface.py            ‚Üí    dsl_interfaces.py
manager_interface.py         ‚Üí    (–µ–¥–∏–Ω—ã–π DSL –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
dialog_handler.py            ‚Üí    
                                  bot_dsl.py (DSL –±–æ—Ç)
                                  dsl_bootstrap.py (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
                                  main_dsl.py (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
```

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å

### –ù–æ–≤—ã–π DSL –±–æ—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ó–∞–ø—É—Å–∫ —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
python main_dsl.py

# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
python bot_dsl.py

# –ß–µ—Ä–µ–∑ bootstrap
python -c "from dsl_bootstrap import quick_launch; import asyncio; asyncio.run(quick_launch())"
```

### –°—Ç–∞—Ä—ã–π –±–æ—Ç (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
```bash
# –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ–π
python bot.py
python run.py
```

## üé≠ –°—Ü–µ–Ω–∞—Ä–∏–∏ DSL

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
–í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã:

```python
@user_scenario(
    id="my_scenario",
    name="–ú–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
    category=ScenarioCategory.REGISTRATION,
    entry_points=["/start", "begin"]
)
def create_my_scenario():
    return DialogBuilder("my_scenario", "–ú–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π")
        .start_with("step1")
        .add_message("step1", "–ü—Ä–∏–≤–µ—Ç!")
        .build()
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ:
- **`user_registration`** - –ø–æ–ª–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (30 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `/start`, `start`, `registration`
  - 12 —à–∞–≥–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
  
- **`quick_registration`** - –±—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (10 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `quick_start`, `fast_registration`
  - 4 —à–∞–≥–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- **`profile_view`** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è (5 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `scenario_profile_view`
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **`profile_edit`** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (15 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `user_edit_profile`, `profile_edit`
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª—é–±—ã—Ö –ø–æ–ª–µ–π –ø—Ä–æ—Ñ–∏–ª—è

- **`profile_delete`** - —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (10 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: —á–µ—Ä–µ–∑ –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
  - –î–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- **`support_request`** - –æ–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É (20 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `user_support`, `support`
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–æ–Ω—Ç–∞–∫—Ç—ã, —Ç–∏–∫–µ—Ç

- **`support_faq_only`** - —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (10 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `scenario_support_faq_only`
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

#### üîß –ú–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–∏–µ:
- **`manager_auth`** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (5 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `/manager`, `manager`, `auth`
  - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ –ø–∞—Ä–æ–ª—è —Å –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ–º

- **`broadcast_creation`** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏ (30 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: `mgr_broadcast`, `broadcast`
  - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞

- **`admin_stats`** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (10 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º

- **`user_management`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (15 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –ü–æ–∏—Å–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- **`data_export`** - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (10 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - CSV —ç–∫—Å–ø–æ—Ä—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

- **`system_management`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π (5 –º–∏–Ω)
  - –í—Ö–æ–¥—ã: —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

## üé≠ –ö–æ–º–ø–æ–∑–∏—Ü–∏–∏

### –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:
- **`user_onboarding`** - –ø–æ–ª–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥
  - –í—Ö–æ–¥—ã: `/onboarding`, `full_registration`
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –ü—Ä–æ—Ñ–∏–ª—å ‚Üí FAQ

- **`manager_workflow`** - —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - –í—Ö–æ–¥—ã: `/manager_flow`, `manager_workflow`
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Üí –†–∞—Å—Å—ã–ª–∫–∞

- **`user_support_flow`** - –ø–æ—Ç–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
  - –í—Ö–æ–¥—ã: `/support`, `help_needed`
  - FAQ ‚Üí –û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É

- **`profile_management`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º
  - –í—Ö–æ–¥—ã: `/profile`, `manage_profile`
  - –ü—Ä–æ—Å–º–æ—Ç—Ä ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –£–¥–∞–ª–µ–Ω–∏–µ

- **`admin_dashboard`** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
  - –í—Ö–æ–¥—ã: `/admin`, `/dashboard`
  - –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üîÑ –ú–µ—Ö–∞–Ω–∏–∑–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```
–û—à–∏–±–∫–∞ ‚Üí –ê–Ω–∞–ª–∏–∑ ‚Üí –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
           ‚Üì
    [–ü–æ–≤—Ç–æ—Ä —à–∞–≥–∞ / –í–æ–∑–≤—Ä–∞—Ç –∫ –Ω–∞—á–∞–ª—É / 
     –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤ / –û—Ç–º–µ–Ω–∞]
```

### –¢–∏–ø—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø–æ–≤—Ç–æ—Ä –≤–≤–æ–¥–∞ –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–¢–∞–π–º–∞—É—Ç** - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–ª–∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ  
3. **–°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
4. **–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –ø–æ–∑–∂–µ

### –ö–æ–º–∞–Ω–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- `/scenario_info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- `/scenario_cancel` - –æ—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–†–µ–µ—Å—Ç—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** - `/scenario_list`, `/scenario_stats`
- **–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - —É—Å–ø–µ—à–Ω–æ—Å—Ç—å, –≤—Ä–µ–º—è, –æ—à–∏–±–∫–∏
- **–ö–æ–º–ø–æ–∑–∏—Ü–∏–∏** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –ö–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
/scenario_info      # –¢–µ–∫—É—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/scenario_list      # –í—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
/scenario_stats     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
/scenario_reload    # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–º–µ–Ω–µ–¥–∂–µ—Ä—ã)
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è
```python
# scenarios/user/my_new_scenario.py

@user_scenario(
    id="my_new_scenario",
    name="–ú–æ–π –Ω–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
    category=ScenarioCategory.SUPPORT,
    entry_points=["my_entry"]
)
def create_my_new_scenario():
    return (DialogBuilder("my_new_scenario", "–ú–æ–π –Ω–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π")
        .start_with("start")
        .add_message("start", "–ù–∞—á–∏–Ω–∞–µ–º!", next_step="end")
        .add_final("end", "–ì–æ—Ç–æ–≤–æ!")
        .build())
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
–°—Ü–µ–Ω–∞—Ä–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞.

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python main_dsl.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
/scenario_list

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
my_entry  # –∏–ª–∏ —á–µ—Ä–µ–∑ callback
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```env
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
BOT_TOKEN=your_token_here
DATABASE_PATH=english_club.db
MANAGER_PASSWORD=your_password

# –ù–æ–≤—ã–µ DSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DSL_SCENARIOS_DIR=scenarios
DSL_AUTO_RELOAD=True
DSL_VALIDATION_STRICT=False
DSL_ENABLE_COMPOSITIONS=True
DSL_DEBUG_MODE=False

# –¢–∞–π–º–∞—É—Ç—ã
DSL_DEFAULT_TIMEOUT=1800
DSL_SESSION_CLEANUP_INTERVAL=3600
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ø–µ—Ä—å –≤ —Å–∞–º–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ builder'—ã.

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. "–°—Ü–µ–Ω–∞—Ä–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω"**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
/scenario_list

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏  
/scenario_reload
```

**2. "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è"**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏
/scenario_stats

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f bot.log | grep ERROR
```

**3. "–°–µ—Å—Å–∏—è –∑–∞–≤–∏—Å–ª–∞"**
```bash
# –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π
/scenario_cancel

# –ò–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
/scenario_info
```

**4. "–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞
```bash
# –í–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥–∏
export LOG_LEVEL=DEBUG

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ DSL
grep "DSL\|scenario\|dialog" bot.log

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
/scenario_stats
```

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏:
- **–ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è** —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–ö–æ–º–ø–æ–∑–∏—Ü–∏–∏** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö workflow
- **–ù–∞–¥–µ–∂–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–ü—Ä–æ—Å—Ç–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ** –Ω–æ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏

### üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- –í—Å–µ —Å—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ù–æ–≤—ã–µ DSL –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è
- –ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ç–æ–≤—ã
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ DSL –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É! üéâ**

---

**–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: `python main_dsl.py`**